<!DOCTYPE html>
<html>
<head>
    <title>Free Fire Diamond Shop</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f6f7fb;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 470px;
            margin: 18px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 0 14px #ddd;
            padding: 2rem 1rem 1.8rem 1rem;
        }
        @media (max-width: 600px) {
            .container {
                max-width: 98vw;
                padding: 1.2rem 4vw 1.2rem 4vw;
                margin: 10px auto;
            }
            .shop-table th, .shop-table td { font-size: 15px; padding: 6px; }
            h2 { font-size: 1.3rem !important; }
        }
        label, .desc { font-size: 13px; color: #222; }
        .small-input {
            font-size: 15px;
            padding: 10px;
            width: 96%;
            border-radius: 6px;
            border: 1px solid #ddd;
            margin-bottom: 12px;
            box-sizing: border-box;
        }
        .btn {
            background: #FF5B5B;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 8px;
        }
        .shop-table {
            width: 100%;
            margin-top: 16px;
            border-collapse: collapse;
        }
        .shop-table th, .shop-table td {
            border: 1px solid #eee;
            padding: 12px;
            font-size: 16px;
        }
        .shop-table th {
            background: #fafafa;
            font-weight: bold;
        }
        del {
            color: #a8a8a8;
            margin-right: 6px;
        }
        .diamond-img {
            width: 32px;
            height: 32px;
            vertical-align: middle;
            margin-right: 7px;
            background: url('diamond.png') no-repeat center/cover;
            display: inline-block;
        }
        .qr-container, .uid-container {
            display: none;
            text-align: center;
            margin: 20px 0 0 0;
        }
        .qr-img {
            width: 120px;
            height: 120px;
            background: url('qr.png') no-repeat center/cover;
            margin: 0 auto 14px auto;
            display: block;
        }
        .timer {
            font-size: 18px;
            color: #FF5B5B;
            margin-bottom: 16px;
        }
        .utr-section {
            display: none;
            text-align: center;
            margin-top: 22px;
        }
        .notice {
            color: #1a8800;
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            margin-top: 18px;
        }
        /* Popup styling */
        .popup {
            display: none;
            position: fixed;
            z-index: 1050;
            left: 0; top: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.45);
            align-items: center;
            justify-content: center;
        }
        .popup-content {
            background: #fff;
            padding: 34px 18px;
            border-radius: 12px;
            text-align: center;
            min-width: 290px;
            max-width: 89vw;
            position: relative;
        }
        .popup-content .diamond-img {
            width: 56px; height: 56px; margin-bottom: 12px;
        }
        .hide { display: none; }
        .close-popup {
            position: absolute;
            top: 11px;
            right: 13px;
            font-size: 23px;
            color: #FF5B5B;
            cursor: pointer;
            font-weight: bold;
            background: none;
            border: none;
            z-index: 11;
        }
    </style>
</head>
<body>
    <div id="shop-page" class="container">
        <h2 style="font-size: 22px; color:#333;">Diamond Shop</h2>
        <table class="shop-table">
            <thead>
            <tr>
                <th></th>
                <th>Pack</th>
                <th>MRP</th>
                <th>Discount</th>
                <th>Our Price</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>250</td>
                    <td><del>₹240</del></td>
                    <td>30%</td>
                    <td><span style="color:#1a8800;">₹168</span></td>
                    <td><button class="btn" onclick="openUID(168, '250')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>310</td>
                    <td><del>₹310</del></td>
                    <td>30%</td>
                    <td><span style="color:#1a8800;">₹217</span></td>
                    <td><button class="btn" onclick="openUID(217, '310')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>450</td>
                    <td><del>₹360</del></td>
                    <td>30%</td>
                    <td><span style="color:#1a8800;">₹252</span></td>
                    <td><button class="btn" onclick="openUID(252, '450')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>520</td>
                    <td><del>₹400</del></td>
                    <td>30%</td>
                    <td><span style="color:#1a8800;">₹280</span></td>
                    <td><button class="btn" onclick="openUID(280, '520')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>650</td>
                    <td><del>₹520</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹312</span></td>
                    <td><button class="btn" onclick="openUID(312, '650')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>850</td>
                    <td><del>₹680</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹408</span></td>
                    <td><button class="btn" onclick="openUID(408, '850')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>1060</td>
                    <td><del>₹800</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹480</span></td>
                    <td><button class="btn" onclick="openUID(480, '1060')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>1600</td>
                    <td><del>₹1600</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹960</span></td>
                    <td><button class="btn" onclick="openUID(960, '1600')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>2180</td>
                    <td><del>₹1600</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹960</span></td>
                    <td><button class="btn" onclick="openUID(960, '2180')">Buy</button></td>
                </tr>
                <tr>
                    <td><span class="diamond-img"></span></td>
                    <td>5600</td>
                    <td><del>₹4000</del></td>
                    <td>40%</td>
                    <td><span style="color:#1a8800;">₹2400</span></td>
                    <td><button class="btn" onclick="openUID(2400, '5600')">Buy</button></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="uid-container" class="container uid-container">
        <h2 style="font-size: 22px; color:#FF5B5B;">Enter Free Fire Max UID</h2>
        <label for="uid">UID</label>
        <input id="uid" class="small-input" placeholder="Enter your UID" maxlength="9">
        <div id="uid-err" style="color:red;margin:8px 0;font-size:12px;"></div>
        <button class="btn" onclick="submitUID()">Submit</button>
    </div>

    <div id="qr-section" class="container qr-container">
        <div class="timer" id="timer"></div>
        <span class="diamond-img"></span>
        <div class="desc" style="margin-top:10px;">Scan & Pay (QR)</div>
        <div class="qr-img"></div>
        <div class="utr-section" id="utr-section">
            <label for="utr">Enter UTR:</label><br>
            <input id="utr" class="small-input" style="width:90%;margin-top:6px;"><br>
            <button class="btn" onclick="verifyPayment()">Submit</button>
        </div>
        <div id="notice" class="notice"></div>
    </div>

    <!-- Promotion Popup -->
    <div id="promo-popup" class="popup">
        <div class="popup-content" id="popupStep1">
            <button class="close-popup" onclick="closePromoPopup()">&times;</button>
            <span class="diamond-img"></span>
            <h3 style="color:#FF5B5B; margin-top:4px;">Win 500 Diamonds Free!</h3>
            <button class="btn" id="claimBtn" onclick="showShareStep()">Claim</button>
        </div>
        <div class="popup-content hide" id="popupStep2">
            <button class="close-popup" onclick="closePromoPopup()">&times;</button>
            <span class="diamond-img"></span>
            <h3 style="color:#FF5B5B; margin-top:4px;">Share to 5 People</h3>
            <p>Share this on WhatsApp to 5 people for free 500 diamonds chance.</p>
            <button class="btn" id="shareBtn" onclick="shareWhatsapp()">Share Now</button>
            <div id="bonus-msg" style="color:#1a8800;margin-top:12px;"></div>
        </div>
        <div class="popup-content hide" id="popupStep3">
            <button class="close-popup" onclick="closePromoPopup()">&times;</button>
            <span class="diamond-img"></span>
            <h3 style="color:#FF5B5B; margin-top:4px;">Result showing in 5 sec...</h3>
        </div>
        <div class="popup-content hide" id="popupStep4">
            <button class="close-popup" onclick="closePromoPopup()">&times;</button>
            <span class="diamond-img"></span>
            <h3 style="color:#FF5B5B; margin-top:4px;">Better luck next time!</h3>
        </div>
    </div>

    <script>
        var currentPrice = 0;
        var currentPack = "";
        function openUID(price, pack) {
            currentPrice = price;
            currentPack = pack;
            document.getElementById('shop-page').style.display = "none";
            document.getElementById('uid-container').style.display = "block";
        }

        function submitUID() {
            var uid = document.getElementById('uid').value;
            if (!/^\d{7,9}$/.test(uid)) {
                document.getElementById('uid-err').innerText = "Please enter a valid UID.";
                return;
            }
            document.getElementById('uid-err').innerText = "";
            document.getElementById('uid-container').style.display = "none";
            document.getElementById('qr-section').style.display = "block";
            let timeLeft = 180;
            document.getElementById('timer').innerText = "QR expires in 3:00";
            var timerInterval = setInterval(function() {
                timeLeft--;
                var min = Math.floor(timeLeft/60), sec = timeLeft%60;
                document.getElementById('timer').innerText = `QR expires in ${min}:${sec.toString().padStart(2,'0')}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    document.getElementById('timer').innerText = "QR expired!";
                }
            }, 1000);
            setTimeout(function() {
                document.getElementById('utr-section').style.display = "block";
            }, 2000);
        }

        function verifyPayment() {
            var utr = document.getElementById('utr').value;
            if (utr.length < 8) {
                document.getElementById('notice').innerText = "Enter a valid UTR number!";
                return;
            }
            document.getElementById('notice').innerText = "Payment verifying, you will receive your diamonds within 10 minutes.";
        }

        function closePromoPopup() {
            document.getElementById('promo-popup').style.display = "none";
            document.getElementById('popupStep1').classList.remove('hide');
            document.getElementById('popupStep2').classList.add('hide');
            document.getElementById('popupStep3').classList.add('hide');
            document.getElementById('popupStep4').classList.add('hide');
        }
        // Promotion popup logic
        function showShareStep() {
            document.getElementById('popupStep1').classList.add('hide');
            document.getElementById('popupStep2').classList.remove('hide');
        }
        function shareWhatsapp() {
            var shareMsg = encodeURIComponent("Win Free Diamonds at our Free Fire Shop! https://yourshopurl.com");
            window.open('https://wa.me/?text=' + shareMsg, '_blank');
            document.getElementById('popupStep2').classList.add('hide');
            document.getElementById('popupStep3').classList.remove('hide');
            let waitingShown = false;
            window.onfocus = function() {
                if (!waitingShown) {
                    waitingShown = true;
                    setTimeout(function() {
                        document.getElementById('popupStep3').classList.add('hide');
                        document.getElementById('popupStep4').classList.remove('hide');
                        setTimeout(function() {
                            closePromoPopup();
                        }, 1500);
                        window.onfocus = null;
                    }, 5000);
                }
            };
        }
        // Show promo after site loads
        setTimeout(function() {
            document.getElementById('promo-popup').style.display = "flex";
        }, 500);
    </script>
</body>
</html>
